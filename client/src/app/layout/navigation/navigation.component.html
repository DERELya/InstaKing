<mat-toolbar color="primary">
  <!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ° Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ Ğ²ÑĞµĞ³Ğ´Ğ° Ğ²Ğ¸Ğ´Ğ½Ğ° -->
  <span routerLink="/main" >InstaKing</span>

  <button (click)="toggleTheme()">
    <span *ngIf="isDarkTheme(); else light">ğŸŒ™</span>
    <ng-template #light>â˜€ï¸</ng-template>
  </button>
  <!-- Ğ’ÑÑ‘ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° /profile -->
  <ng-container *ngIf="!router.url.startsWith('/profile')">
    <span class="spacer"></span>

    @if (!isLoggedIn) {
      <button matTooltip="Login" routerLink="/login" mat-icon-button class="example-icon favorite-icon">
        <mat-icon>login</mat-icon>
      </button>
    }

    @if (isDataLoaded) {
      <h3>{{ user?.username }}</h3>
    }


    @if (isLoggedIn) {
      <button [matMenuTriggerFor]="menu" matTooltip="Profile" mat-icon-button class="avatar-button">
        <img [src]="previewUrl || userProfileImage || 'assets/placeholder.jpg'"
             alt="avatar"
             width="40"
             height="40"
             class="avatar-icon">
      </button>
    }

    <mat-menu #menu="matMenu" class="my-custom-menu">
      <button mat-menu-item class="my-custom-menu-item" [routerLink]="['/profile/', user?.username]">Profile</button>
      <button mat-menu-item class="my-custom-menu-item" (click)="logout()">Logout</button>
    </mat-menu>
  </ng-container>
</mat-toolbar>

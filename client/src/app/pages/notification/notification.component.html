<button mat-icon-button [matMenuTriggerFor]="menu">
  <mat-icon
    [matBadge]="unreadCount$ | async"
    [matBadgeHidden]="(unreadCount$ | async) === 0"
    matBadgeColor="warn">
    notifications
  </mat-icon>
</button>

<mat-menu #menu="matMenu" class="notifications-menu">
  <div class="menu-header">Уведомления</div>

  <div *ngIf="(notifications$ | async)?.length === 0" class="empty-state">
    Нет новых уведомлений
  </div>

  <button mat-menu-item
          *ngFor="let notify of notifications$ | async"
          [class.unread]="!notify.isRead"
          (click)="onNotificationClick(notify)">

    <div class="notification-item">
      <!-- Иконка в зависимости от типа -->
      <mat-icon *ngIf="notify.type === 'LIKE'" color="warn">favorite</mat-icon>
      <mat-icon *ngIf="notify.type === 'FOLLOW'" color="primary">person_add</mat-icon>
      <mat-icon *ngIf="notify.type === 'COMMENT'">chat_bubble</mat-icon>

      <div class="text">
        <span class="username">{{ notify.senderUsername }}</span>
        {{ notify.content }}
      </div>

      <span class="time">{{ notify.createdAt | date:'shortTime' }}</span>
    </div>
  </button>
</mat-menu>
